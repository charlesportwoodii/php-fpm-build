# Build Scripts for PHP FPM

[![TravisCI](https://img.shields.io/travis/charlesportwoodii/php-fpm-build.svg?style=flat-square&branch=master "TravisCI")](https://travis-ci.org/charlesportwoodii/php-fpm-build)

This repository provides an opinionated build of PHP FPM, and enables you to quickly build and package modern versions of PHP.

### Why should I use this package?

This package provides a opinionated build for PHP FPM. The primary differentiators between this package and other PPA's are:

- Almost every module is statically compiled to reduce external dependencies
- The latest versions of OpenSSL and libcurl are statically compiled into PHP from source
- Common modules not distributed with `php-src`, such as Redis, are bundled as external dependencies
- Certain modules, such as mcrypt, are not enabled by default, but must be manually enabled via ini file

If you're looking to _just_ use PHP FPM, and want a single binary compiled with the most common extensions, compiled with the latest versions of OpenSSL and cURL, this package is for you. If you'd prefer to have a more modular build, ppa:ondrej/php might be preferable.

## Building & Packaging
> Tested on Ubuntu 14.04, Ubuntu 16.04, CentOS7_x64

The preferred way of building PHP is to use build and package them within Docker, and then to install PHP from the packages it provides. This allows you to build PHP in an environment isolated from your own, and allows you to install PHP through your package manager, rather than through source. This approach requires both `Docker` and `docker-compose` to be installed. (see https://docs.docker.com/).

Packages can be generated by running `docker-compose run` on the image you want to build PHP for. This will build and package `php-fpm` and `php-pear`.

```
docker-compose run <truty|xenial|centos7>
```

## Other